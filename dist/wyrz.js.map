{"version":3,"file":"wyrz.js","sources":["../src/brain.js","../src/wyrz.js"],"sourcesContent":["class Brain {\r\n  constructor () {\r\n\r\n  }\r\n\r\n  process (content, callback) {\r\n    callback(content)\r\n  }\r\n\r\n  onTextMessage (message) {\r\n    this.process(message.body, message.reply)\r\n  }\r\n\r\n  socketMessage (message, socket) {\r\n    this.process(message, socket.emit)\r\n  }\r\n}\r\n\r\nexport default Brain\r\n","import util from 'util'\r\nimport http from 'http'\r\n\r\nimport * as Bot from '@kikinteractive/kik'\r\nimport express from 'express'\r\nimport Socket from 'socket.io'\r\n\r\nimport Brain from './brain'\r\n\r\nlet brain = new Brain()\nlet configuration = {}\n\nconfiguration.kik = {\r\n  username: 'wyrz',\r\n  apiKey: '162091ee-2785-4af4-b833-91dda5356ff9',\r\n  baseUrl: 'https://wyrz.herokuapp.com/'\r\n}\r\n\r\nlet bot = new Bot(configuration.kik)\r\nbot.updateBotConfiguration()\r\nbot.onTextMessage(brain.onTextMessage)\r\n\r\nconst app = express()\r\nconst httpd = http.Server(bot)\r\nconst io = Socket(httpd)\r\n\r\nhttpd.on('request', (request, response) => {\r\n  if (!response.finished) {\r\n    app.call(httpd, request, response)\r\n  }\r\n})\r\n\r\nio.on('connection', socket => {\r\n  socket.on('message', data => {\r\n    brain.socketMessage(data, socket, io)\r\n  })\r\n})\r\n\r\n// app.use('/kik', bot)\r\napp.use(express.static('public'))\r\nhttpd.listen(process.env.PORT || 8080)\n"],"names":["Brain","content","callback","message","process","body","reply","socket","emit","brain","configuration","kik","bot","Bot","updateBotConfiguration","onTextMessage","app","express","httpd","http","Server","io","Socket","on","request","response","finished","call","socketMessage","data","use","static","listen","env","PORT"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAMA;mBACW;;;;;;4BAINC,SAASC,UAAU;eACjBD,OAAT;;;;kCAGaE,SAAS;WACjBC,OAAL,CAAaD,QAAQE,IAArB,EAA2BF,QAAQG,KAAnC;;;;kCAGaH,SAASI,QAAQ;WACzBH,OAAL,CAAaD,OAAb,EAAsBI,OAAOC,IAA7B;;;;IAIJ;;ACTA,IAAIC,QAAQ,IAAIT,KAAJ,EAAZ;AACA,IAAIU,gBAAgB,EAApB;;AAEAA,cAAcC,GAAd,GAAoB;YACR,MADQ;UAEV,sCAFU;WAGT;CAHX;;AAMA,IAAIC,MAAM,IAAIC,GAAJ,CAAQH,cAAcC,GAAtB,CAAV;AACAC,IAAIE,sBAAJ;AACAF,IAAIG,aAAJ,CAAkBN,MAAMM,aAAxB;;AAEA,IAAMC,MAAMC,SAAZ;AACA,IAAMC,QAAQC,KAAKC,MAAL,CAAYR,GAAZ,CAAd;AACA,IAAMS,KAAKC,OAAOJ,KAAP,CAAX;;AAEAA,MAAMK,EAAN,CAAS,SAAT,EAAoB,UAACC,OAAD,EAAUC,QAAV,EAAuB;MACrC,CAACA,SAASC,QAAd,EAAwB;QAClBC,IAAJ,CAAST,KAAT,EAAgBM,OAAhB,EAAyBC,QAAzB;;CAFJ;;AAMAJ,GAAGE,EAAH,CAAM,YAAN,EAAoB,kBAAU;SACrBA,EAAP,CAAU,SAAV,EAAqB,gBAAQ;UACrBK,aAAN,CAAoBC,IAApB,EAA0BtB,MAA1B,EAAkCc,EAAlC;GADF;CADF;;;AAOAL,IAAIc,GAAJ,CAAQb,QAAQc,MAAR,CAAe,QAAf,CAAR;AACAb,MAAMc,MAAN,CAAa5B,QAAQ6B,GAAR,CAAYC,IAAZ,IAAoB,IAAjC"}