{"version":3,"file":"wyrz.js","sources":["../src/brain.js","../src/wyrz.js"],"sourcesContent":["class Brain {\r\n  constructor () {\r\n\r\n  }\r\n\r\n  process (content, callback) {\r\n    callback(content)\r\n  }\r\n\r\n  onTextMessage (message) {\r\n    message.reply(message.body)\r\n  }\r\n\r\n  socketMessage (message, socket) {\r\n    socket.emit(message)\r\n  }\r\n}\r\n\r\nexport default Brain\r\n","import util from 'util'\r\nimport http from 'http'\r\n\r\nimport * as Bot from '@kikinteractive/kik'\r\nimport express from 'express'\r\n\r\nimport Brain from './brain'\r\n\r\nlet configuration\r\nlet brain\r\nlet bot\r\nlet httpd\r\nlet app\r\n\r\nconfiguration = {}\r\n\r\nconfiguration.kik = {\r\n  username: 'wyrz',\r\n  apiKey: '162091ee-2785-4af4-b833-91dda5356ff9',\r\n  baseUrl: 'https://wyrz.herokuapp.com/'\r\n}\r\n\r\nbrain = new Brain()\r\nbot = new Bot(configuration.kik)\r\napp = express()\r\n\r\nbot.updateBotConfiguration()\r\nbot.onTextMessage(brain.onTextMessage)\r\napp.use(express.static('public'))\r\n\r\nhttpd = http.createServer()\r\n\r\nhttpd.on('request', (request, response) => {\r\n  bot.incoming().call(httpd, request, response)\r\n\r\n  if (request.url.indexOf('/incoming') !== 0) {\r\n    app.call(httpd, request, response)\r\n  }\r\n})\r\n\r\nhttpd.listen(process.env.PORT || 8080, function () {\r\n  console.log(httpd.address().port, httpd.remoteAddress)\r\n})\r\n"],"names":["Brain","content","callback","message","reply","body","socket","emit","configuration","brain","bot","httpd","app","kik","Bot","express","updateBotConfiguration","onTextMessage","use","static","http","createServer","on","request","response","incoming","call","url","indexOf","listen","process","env","PORT","log","address","port","remoteAddress"],"mappings":";;;;;;;;;AAAA,MAAMA,KAAN,CAAY;gBACK;;UAINC,OAAT,EAAkBC,QAAlB,EAA4B;aACjBD,OAAT;;;gBAGaE,OAAf,EAAwB;YACdC,KAAR,CAAcD,QAAQE,IAAtB;;;gBAGaF,OAAf,EAAwBG,MAAxB,EAAgC;WACvBC,IAAP,CAAYJ,OAAZ;;CAIJ;;ACVA,IAAIK,aAAJ;AACA,IAAIC,KAAJ;AACA,IAAIC,GAAJ;AACA,IAAIC,KAAJ;AACA,IAAIC,GAAJ;;AAEAJ,gBAAgB,EAAhB;;AAEAA,cAAcK,GAAd,GAAoB;YACR,MADQ;UAEV,sCAFU;WAGT;CAHX;;AAMAJ,QAAQ,IAAIT,KAAJ,EAAR;AACAU,MAAM,IAAII,GAAJ,CAAQN,cAAcK,GAAtB,CAAN;AACAD,MAAMG,SAAN;;AAEAL,IAAIM,sBAAJ;AACAN,IAAIO,aAAJ,CAAkBR,MAAMQ,aAAxB;AACAL,IAAIM,GAAJ,CAAQH,QAAQI,MAAR,CAAe,QAAf,CAAR;;AAEAR,QAAQS,KAAKC,YAAL,EAAR;;AAEAV,MAAMW,EAAN,CAAS,SAAT,EAAoB,CAACC,OAAD,EAAUC,QAAV,KAAuB;MACrCC,QAAJ,GAAeC,IAAf,CAAoBf,KAApB,EAA2BY,OAA3B,EAAoCC,QAApC;;MAEID,QAAQI,GAAR,CAAYC,OAAZ,CAAoB,WAApB,MAAqC,CAAzC,EAA4C;QACtCF,IAAJ,CAASf,KAAT,EAAgBY,OAAhB,EAAyBC,QAAzB;;CAJJ;;AAQAb,MAAMkB,MAAN,CAAaC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,EAAuC,YAAY;UACzCC,GAAR,CAAYtB,MAAMuB,OAAN,GAAgBC,IAA5B,EAAkCxB,MAAMyB,aAAxC;CADF"}